{% extends '/administration/baseAdmin.html.twig' %}

{% block title %}Mon profil{% endblock %}

{% block contentAdmin %}
    <section class="row">
        <article class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    liste gestions utilisateur
                </div>
                <div class="card-body">
                    <div  class="wrapper table-responsive m-auto">
                        <table  id="tableUser" class="table table-striped">
                            <thead>
                            <tr>
                                <th>Id</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>action</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for user in users %}
                                <tr>
                                    <td>{{ user.id }}</td>
                                    <td>{{ user.email }}</td>
                                    <td >
                                        {% for role in user.roles %}
                                            <span>{{ role }}</span>
                                        {% endfor %}
                                    </td>
                                    <td>
                                        <div class="d-flex ">
                                            <a class="btn  border-primary m-2" href="{{ path('app_user_show', {'id': user.id}) }}"><i class="fa-solid fa-eye"></i>
                                            </a>

                                            <a class="btn border-warning m-2" href="{{ path('app_user_edit', {'id': user.id}) }}">
                                                <i class="fa-solid fa-pencil"></i>
                                            </a>

                                            {{ include('administration/admin/_delete_user_form.html.twig') }}
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                            {% if not users %}
                                <tr>
                                    <td colspan="10">no records found</td>
                                </tr>
                            {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </article>
        <article class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-bar me-1"></i>
                    apercu calendrier event
                </div>
                <div class="card-body">
                    <div id="calendrier" class="m-2"></div>
                </div>
            </div>
        </article>
    </section>
    {#      Vue sur la liste des evenement de l'adenda   #}
    <section class="card mb-4">
        <div class="card-header">
            <i class="fas fa-table me-1"></i>
            Liste des evenement de l'agenda
        </div>
        <div class="card-body">
            <div  class="wrapper table-responsive m-auto">
                <table  id="table" class="table table-striped">
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Title</th>
                        <th>Start</th>
                        <th>End</th>
                        <th>Description</th>
                        <th>All_day</th>
                        <th>Background_color</th>
                        <th>Text_color</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for event in events %}
                        <tr>
                            <td>{{ event.id }}</td>
                            <td>{{ event.title }}</td>
                            <td>{{ event.start ? event.start|date('Y-m-d H:i:s') : '' }}</td>
                            <td>{{ event.end ? event.end|date('Y-m-d H:i:s') : '' }}</td>
                            <td>{{ event.description }}</td>
                            <td>{{ event.allDay ? 'Yes' : 'No' }}</td>
                            <td>{{ event.backgroundColor }}</td>
                            <td>{{ event.textColor }}</td>
                            <td>
                                <div class="d-flex ">
                                    <a class="btn  border-primary m-2" href="{{ path('app_agenda_show', {'id': event.id}) }}"><i class="fa-solid fa-eye"></i>
                                    </a>

                                    <a class="btn border-warning m-2" href="{{ path('app_agenda_edit', {'id': event.id}) }}">
                                        <i class="fa-solid fa-pencil"></i>
                                    </a>

                                    {{ include('agenda/_delete_form.html.twig') }}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    {% if not events %}
                        <tr>
                            <td colspan="10">no records found</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </section>

{% endblock %}